<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LIVE CHAT</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="loginbody">
      <section class="topBox">
        <h2>Hello login</h2>
        <p>Welcome to the login</p>
        <p>screen</p>
      </section>
      <section class="midBox">
        <input id="username" type="text" placeholder="Username" />
        <div class="errorBox">
          <p class="errorText" id="usernameError"></p>
        </div>
        <input id="password" type="password" placeholder="Password" />
        <div class="errorBox">
          <p class="errorText" id="passwordError"></p>
        </div>
        <button class="loginBtn" id="btn">sign in</button>
      </section>
      <section class="bottomBox"></section>
    </div>
  </body> 

  <script>

    const usernameInput = document.getElementById("username");
    const passwordInput = document.getElementById("password");
    const loginBtn = document.getElementById("btn");

    const usernameErrorText = document.getElementById("usernameError");
    const passwordErrorText = document.getElementById("passwordError");

    
    loginBtn.addEventListener("click", async () => {
      if (!usernameInput || usernameInput.value.trim().length === 0) {

        return usernameErrorText.innerText = "이름을 입력해주세요.";
        
      } else {
        usernameErrorText.innerText = "";
      }
      
      if (!passwordInput || passwordInput.value.trim().length === 0) {

        return passwordErrorText.innerText = "비밀번호를 입력해주세요.";

      } else {
        passwordErrorText.innerText = "";
      }

      sessionStorage.setItem(
        "login", 
        JSON.stringify(
          {
            username: usernameInput.value, 
            password: passwordInput.value
          }
        )
      );

      location.href = "/main";

      

    })
  </script>
</html>
